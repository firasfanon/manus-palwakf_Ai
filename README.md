# نموذج الذكاء الصناعي للأوقاف الإسلامية في فلسطين

نموذج ذكاء صناعي شامل متخصص في الأوقاف الإسلامية في فلسطين يستند إلى القوانين التاريخية والمعاصرة، مجلة الأحكام العدلية، والمراجع الشرعية والتاريخية.

## المميزات الرئيسية

### 1. محادثة ذكية تفاعلية
- تفاعل مباشر مع النموذج للحصول على إجابات فورية ودقيقة
- دعم المحادثات المتعددة وحفظ السياق
- تصنيف تلقائي للأسئلة (قانوني، فقهي، إداري، تاريخي)

### 2. مرجعية قانونية شاملة
- قانون الأوقاف والشؤون الدينية رقم 26 لسنة 1966 وتعديلاته
- قرار بقانون رقم 2 لسنة 2023
- مجلة الأحكام العدلية العثمانية
- التشريعات التاريخية المتعلقة بالأوقاف

### 3. مراجع فقهية موثوقة
- الأحكام الشرعية الإسلامية للوقف
- شروط صحة الوقف وأركانه
- أنواع الأوقاف (خيري، ذري، مختلط)
- أحكام النظارة والإدارة

### 4. نظام RAG متقدم
- بحث ذكي في قاعدة المعرفة
- استخراج السياق المناسب تلقائياً
- تصنيف وترتيب النتائج حسب الصلة

## البنية التقنية

### التقنيات المستخدمة
- **Frontend**: React 19 + Tailwind CSS 4 + TypeScript
- **Backend**: Node.js + Express + tRPC 11
- **Database**: MySQL/TiDB + Drizzle ORM
- **AI**: نماذج اللغة الكبيرة مع تقنية RAG
- **Authentication**: Manus OAuth

### قاعدة البيانات

#### الجداول الرئيسية
1. **users**: بيانات المستخدمين والمصادقة
2. **knowledge_documents**: الوثائق والمراجع القانونية والشرعية
3. **conversations**: المحادثات مع النموذج
4. **messages**: الرسائل داخل المحادثات
5. **faqs**: الأسئلة الشائعة
6. **search_logs**: سجل عمليات البحث للتحليل

### API Endpoints (tRPC)

#### المصادقة (auth)
- `auth.me`: الحصول على بيانات المستخدم الحالي
- `auth.logout`: تسجيل الخروج

#### المحادثات (chat)
- `chat.myConversations`: جلب محادثات المستخدم
- `chat.getConversation`: جلب محادثة محددة مع رسائلها
- `chat.createConversation`: إنشاء محادثة جديدة
- `chat.sendMessage`: إرسال رسالة والحصول على رد من النموذج
- `chat.deleteConversation`: حذف محادثة

#### الأسئلة الشائعة (faqs)
- `faqs.list`: جلب الأسئلة الشائعة (مع فلترة حسب التصنيف)
- `faqs.incrementView`: زيادة عداد المشاهدات
- `faqs.create`: إنشاء سؤال جديد (للمسؤولين)
- `faqs.update`: تحديث سؤال (للمسؤولين)
- `faqs.delete`: حذف سؤال (للمسؤولين)

#### قاعدة المعرفة (knowledge)
- `knowledge.list`: جلب الوثائق (مع فلترة وبحث)
- `knowledge.getById`: جلب وثيقة محددة
- `knowledge.create`: إنشاء وثيقة جديدة (للمسؤولين)
- `knowledge.update`: تحديث وثيقة (للمسؤولين)
- `knowledge.delete`: حذف وثيقة (للمسؤولين)

#### البحث (search)
- `search.query`: البحث في قاعدة المعرفة

## التصنيفات

### تصنيفات الوثائق
- **law**: قوانين وتشريعات
- **jurisprudence**: فقه وأحكام شرعية
- **majalla**: مجلة الأحكام العدلية
- **historical**: وثائق تاريخية
- **administrative**: إجراءات إدارية
- **reference**: مراجع عامة

### تصنيفات المحادثات
- **general**: عام
- **legal**: قانوني
- **jurisprudence**: فقهي
- **administrative**: إداري
- **historical**: تاريخي

### تصنيفات الأسئلة الشائعة
- **general**: عام
- **conditions**: شروط الوقف
- **types**: أنواع الوقف
- **management**: إدارة الوقف
- **legal**: قانوني
- **jurisprudence**: فقهي

## نظام RAG (Retrieval-Augmented Generation)

### آلية العمل
1. **استقبال السؤال**: يتلقى النموذج سؤال المستخدم
2. **التصنيف التلقائي**: تحديد نوع السؤال (قانوني، فقهي، إلخ)
3. **البحث في قاعدة المعرفة**: استخدام خوارزمية التشابه النصي
4. **استخراج السياق**: جلب الفقرات الأكثر صلة
5. **توليد الإجابة**: استخدام نموذج اللغة مع السياق المستخرج
6. **إرفاق المصادر**: تقديم مراجع الإجابة للمستخدم

### خوارزمية حساب الصلة
- مطابقة الكلمات المفتاحية في العنوان (وزن أعلى)
- مطابقة الكلمات المفتاحية في المحتوى
- مكافأة إضافية للتصنيف المناسب
- ترتيب النتائج حسب درجة الصلة

## الصفحات

### 1. الصفحة الرئيسية (/)
- عرض المميزات والإمكانيات
- المجالات المغطاة
- روابط سريعة للبدء

### 2. صفحة المحادثة (/chat)
- واجهة محادثة تفاعلية
- قائمة المحادثات السابقة
- عرض المصادر المرجعية لكل إجابة
- تصنيف تلقائي للمحادثة

### 3. صفحة الأسئلة الشائعة (/faqs)
- تصنيف الأسئلة حسب الموضوع
- عداد المشاهدات لكل سؤال
- واجهة Accordion قابلة للتوسيع

### 4. صفحة البحث (/search)
- بحث متقدم في قاعدة المعرفة
- فلترة حسب التصنيف
- عرض درجة الصلة لكل نتيجة
- روابط للمصادر الأصلية

### 5. صفحة قاعدة المعرفة (/knowledge)
- عرض جميع الوثائق
- تصنيف حسب النوع
- عرض تفصيلي لكل وثيقة
- إحصائيات قاعدة المعرفة

## التطوير المحلي

### المتطلبات
- Node.js 22+
- MySQL/TiDB
- pnpm

### التثبيت
```bash
# تثبيت الحزم
pnpm install

# إعداد قاعدة البيانات
pnpm db:push

# تعبئة البيانات الأولية
pnpm tsx seed.mjs

# تشغيل الخادم
pnpm dev
```

### الاختبار
```bash
# تشغيل جميع الاختبارات
pnpm test

# بناء المشروع
pnpm build
```

## البيانات الأولية

يتضمن المشروع بيانات أولية شاملة:
- **12 وثيقة** في قاعدة المعرفة تغطي جميع الجوانب
- **10 أسئلة شائعة** موزعة على التصنيفات المختلفة

## الأمان والصلاحيات

### الأدوار
- **user**: مستخدم عادي (قراءة، محادثة، بحث)
- **admin**: مسؤول (جميع صلاحيات المستخدم + إدارة المحتوى)

### الحماية
- مصادقة OAuth عبر Manus
- حماية الإجراءات الحساسة بـ `protectedProcedure`
- التحقق من الصلاحيات على مستوى الخادم

## المساهمة

هذا المشروع مفتوح للتطوير والتحسين. يمكن المساهمة عبر:
- إضافة وثائق جديدة لقاعدة المعرفة
- تحسين خوارزمية البحث والتصنيف
- إضافة ميزات جديدة
- تحسين واجهة المستخدم

## الترخيص

جميع الحقوق محفوظة © 2024

## الدعم والتواصل

للاستفسارات والدعم الفني، يرجى التواصل عبر:
- البريد الإلكتروني: support@waqf-ai.ps
- الموقع الإلكتروني: https://waqf-ai.manus.space

---

**ملاحظة**: هذا النموذج مصمم لأغراض تعليمية واستشارية. للحصول على استشارات قانونية رسمية، يُرجى مراجعة الجهات المختصة.
#   m a n u s - p a l w a k f _ A i  
 #   m a n u s - p a l w a k f _ A i  
 #   m a n u s - p a l w a k f _ A i  
 